<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Siggraph Asia 2019 - 神经状态机 | YunDid's Blog</title><meta name="keywords" content="Animation Systems"><meta name="author" content="YunDid"><meta name="copyright" content="YunDid"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Siggraph Asia 2019 - 用于角色与场景交互动画的神经状态机The Current Progress &#x2F; 当前进度 Unity初级编程 - 中级编程 &#x2F; √ 动画系统demo实践 完成模型导入-&gt; 动画绑定 -&gt; 状态机组织动画 &#x2F; √ 工具 fbx -&gt; motiondate -&gt; 中间数据 &#x2F; √ AIAnimation框架，神经状态机了解 &#x2F; ing">
<meta property="og:type" content="article">
<meta property="og:title" content="Siggraph Asia 2019 - 神经状态机">
<meta property="og:url" content="http://example.com/2022/03/22/Animation/CenterAI_%E7%A5%9E%E7%BB%8F%E7%8A%B6%E6%80%81%E6%9C%BA/index.html">
<meta property="og:site_name" content="YunDid&#39;s Blog">
<meta property="og:description" content="Siggraph Asia 2019 - 用于角色与场景交互动画的神经状态机The Current Progress &#x2F; 当前进度 Unity初级编程 - 中级编程 &#x2F; √ 动画系统demo实践 完成模型导入-&gt; 动画绑定 -&gt; 状态机组织动画 &#x2F; √ 工具 fbx -&gt; motiondate -&gt; 中间数据 &#x2F; √ AIAnimation框架，神经状态机了解 &#x2F; ing">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/ma3.jpg">
<meta property="article:published_time" content="2022-03-22T02:40:00.000Z">
<meta property="article:modified_time" content="2022-03-22T02:44:05.066Z">
<meta property="article:author" content="YunDid">
<meta property="article:tag" content="Animation Systems">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/ma3.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2022/03/22/Animation/CenterAI_%E7%A5%9E%E7%BB%8F%E7%8A%B6%E6%80%81%E6%9C%BA/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: YunDid","link":"链接: ","source":"来源: YunDid's Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-03-22 10:44:05'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/1.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">46</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">19</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">15</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/ma3.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">YunDid's Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Siggraph Asia 2019 - 神经状态机</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-03-22T02:40:00.000Z" title="发表于 2022-03-22 10:40:00">2022-03-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-03-22T02:44:05.066Z" title="更新于 2022-03-22 10:44:05">2022-03-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/YumiGame/">YumiGame</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Siggraph Asia 2019 - 神经状态机"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/2022/03/22/Animation/CenterAI_%E7%A5%9E%E7%BB%8F%E7%8A%B6%E6%80%81%E6%9C%BA/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2022/03/22/Animation/CenterAI_%E7%A5%9E%E7%BB%8F%E7%8A%B6%E6%80%81%E6%9C%BA/" itemprop="commentCount"></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Siggraph-Asia-2019-用于角色与场景交互动画的神经状态机"><a href="#Siggraph-Asia-2019-用于角色与场景交互动画的神经状态机" class="headerlink" title="Siggraph Asia 2019 - 用于角色与场景交互动画的神经状态机"></a>Siggraph Asia 2019 - 用于角色与场景交互动画的神经状态机</h1><h1 id="The-Current-Progress-当前进度"><a href="#The-Current-Progress-当前进度" class="headerlink" title="The Current Progress / 当前进度"></a>The Current Progress / 当前进度</h1><ul>
<li>Unity初级编程 - 中级编程 / √</li>
<li>动画系统demo实践 完成模型导入-&gt; 动画绑定 -&gt; 状态机组织动画 / √</li>
<li>工具 fbx -&gt; motiondate -&gt; 中间数据 / √</li>
<li>AIAnimation框架，神经状态机了解 / ing</li>
<li>ue4状态机 + AI + 行为树</li>
<li>着手Ue版动画系统的架构</li>
</ul>
<h1 id="Outline-概要"><a href="#Outline-概要" class="headerlink" title="Outline / 概要"></a>Outline / 概要</h1><blockquote>
<p><code>With the Neural State Machine as the core machinery, we achieve the smooth transitions in high-level states with a goal-driven control while realizing precise scene interactions with a bi-directional character control scheme and volumetric sensors.</code></p>
<p>以神经网络状态机为核心机制，通过目标驱动控制实现高级状态的平滑过渡，通过双向角色控制方案与体积传感器实现精确的场景交互</p>
</blockquote>
<h1 id="Neural-State-Machine-神经状态机"><a href="#Neural-State-Machine-神经状态机" class="headerlink" title="Neural State Machine / 神经状态机"></a>Neural State Machine / 神经状态机</h1><blockquote>
<p><code>The Neural State Machine consists of a Motion Prediction Network and a Gating Network. </code></p>
<p>神经状态机主要由两部分组成，如下图，一部分为 Gating Network / 门控网络，另一部分为 Motion Prediction Network / 运动预测网络</p>
</blockquote>
<p><img src="/.com//image-20220210105722924.png" alt="image-20220210105722924"></p>
<h2 id="Gating-Network-门控网络"><a href="#Gating-Network-门控网络" class="headerlink" title="Gating Network / 门控网络"></a>Gating Network / 门控网络</h2><blockquote>
<p> <code>The Gating Network decides the blending coefficients of expert weights based on the given goal and the phase of the motion to dynamically generate the Motion Prediction Network. The intuition behind this design is to encode different modes of motion in drastically different tasks separately in multiple experts to avoid blurry motions and adapt to different tasks. We further modulate the expert blending weights using a learned cyclic function to ensure the state will move forward in time.</code></p>
<p>门控网络决定了专家权重的混合系数，进而动态的生成运动预测网络.</p>
<p>专家混合系数会进一步调节以保证运动状态将及时更新</p>
</blockquote>
<h3 id="Input-输入"><a href="#Input-输入" class="headerlink" title="Input / 输入"></a>Input / 输入</h3><blockquote>
<p><code>Input Features of the Gating Network: We design the input features of the gating network such that the expert weights are selected and interpolated according to both the action labels and phase values. At each frame i, the input of the Gating Network Xˆ i is computed by composing two vectors as follows: Xiˆ = Pi ⊗ X′</code></p>
<p>Pi : 2D相位矢量</p>
<p>X’ : 含有当前动作，目标位置，目标朝向，沿整个运动轨迹的目标动作</p>
</blockquote>
<h3 id="Output-输出"><a href="#Output-输出" class="headerlink" title="Output / 输出"></a>Output / 输出</h3><blockquote>
<p>ω = Ω(Xˆ;µ) = σ(W′2 ELU( W′ 1 ELU( W′0 Xˆ + b′0 ) + b′1 ) + b′2)</p>
<p><code>ω is the blending coefficients of the expert weights to compute the network parameters of the Motion Prediction Network; </code></p>
<p>门控网络将通过以上运算得出专家权重的混合系数以用于计算运动预测网络的网络参数，即用于生成运动预测网络</p>
</blockquote>
<h2 id="Motion-Prediction-Network-运动预测网络"><a href="#Motion-Prediction-Network-运动预测网络" class="headerlink" title="Motion Prediction Network / 运动预测网络"></a>Motion Prediction Network / 运动预测网络</h2><blockquote>
<p><code>The Motion Prediction Network is the main component of our system where it computes the pose of the character in the current frame, given the pose in the previous frame, the geometry of the surrounding environment, and the high-level instructions including the goal location and the action state.</code></p>
<p>运动预测网络基于之前帧中的角色姿势，周边环境的几何体，含有目标位置和动作状态的高级指令，最终计算当前帧角色的姿势，其含有两个模块，分别是编码器模块与预测模块</p>
</blockquote>
<ul>
<li><p>Encoder Module / 编码器模块</p>
<blockquote>
<p><code>This module receives the components of the character state in the previous frame and encodes them individually using simple three-layer networks.</code></p>
<p>该模块提取角色状态中的四个分量，并使用简单的三层网络分别编码</p>
</blockquote>
</li>
<li><p>Prediction Module / 预测模块</p>
<blockquote>
<p><code>This module receives the output of the encoder module and predicts the state of the character in the current frame. The prediction module is a three-layer network whose weights are dynamically blended from a group of expert weights with coefficients from the Gating Network.</code></p>
<p>预测模块接受编码器模块的输出对当前帧的角色状态进行预测，该网络层的权重由混合系数与专家权重组合动态混合而成</p>
</blockquote>
</li>
</ul>
<h3 id="Input-输入-1"><a href="#Input-输入-1" class="headerlink" title="Input / 输入"></a>Input / 输入</h3><blockquote>
<p><code>The inputs of the Motion Prediction Network Xi at frame i consist of four components, namely the Frame Input Fi, Goal Input Gi, Interaction Geometry Input Ii and Environment Geometry Input Ei, such Xi = &#123;Fi , Gi , Ii , Ei &#125;.</code></p>
<p>预测网络于当前帧的输入包含四部分，F(i)，G(i)，I(i)，E(i)</p>
</blockquote>
<ul>
<li><p>Frame Input F(i)</p>
<blockquote>
<ol>
<li>角色在 i-1 帧的<strong>角色姿势</strong>(23个关节的位置、旋转值与相对于根坐标的速度)</li>
<li><strong>根</strong>在采样时间段(in the past/future in a 2 second window)内的<strong>轨迹线数据</strong>(采样范围内的坐标、前向向量数据)，相对于 i-1 帧</li>
<li>采样时间段内连续的<strong>行为标签</strong>，该行为标签会在每一个t轨迹点上由0到1变化</li>
</ol>
</blockquote>
</li>
<li><p>Goal Input G(i)</p>
<blockquote>
<ol>
<li>目标位置，目标沿采样轨迹线的朝向</li>
<li>目标点的热动作标签(目标行为标签)</li>
</ol>
</blockquote>
</li>
<li><p>The Interaction Geometry Input I(i) and Environment Geometry Encoder Input E(i)</p>
<blockquote>
<p>角色周围交互对象的体积表示</p>
</blockquote>
</li>
</ul>
<h3 id="Output-输出-1"><a href="#Output-输出-1" class="headerlink" title="Output / 输出"></a>Output / 输出</h3><blockquote>
<p><code>The outputs are used to animate the character, directly fed back into the inputs or blended with the user inputs to be a control signal for the next iteration. </code></p>
<p>该网络层的输出将用于动画化角色，并且将直接反馈到输入或者与用户输入混合，形成控制信号用于下一次迭代预测 - 自回归</p>
</blockquote>
<ul>
<li>角色坐标系统中的角色姿态预测结果</li>
<li>在角色坐标系统中的未来的（1秒内）根的轨迹</li>
<li>在目标坐标系统中的未来的（1秒内）根的轨迹</li>
<li>Goal Output G0(目标数据的更新值)，含更新后的位置，朝向与目标行为等</li>
<li>关键关节的接触点标签，用于IK</li>
<li>当前的相位更新</li>
</ul>
<h1 id="Goal-Driven-Character-Control-目标驱动的角色控制"><a href="#Goal-Driven-Character-Control-目标驱动的角色控制" class="headerlink" title="Goal-Driven Character Control / 目标驱动的角色控制"></a>Goal-Driven Character Control / 目标驱动的角色控制</h1><blockquote>
<p><code>Our system has two modes of control: the high-level goal-driven mode and the low-level locomotion mode.</code></p>
<p>该系统提供两个控制模式，高级目标驱动模式，低级运动模式，并且可以无缝切换</p>
</blockquote>
<ul>
<li><p>High-level goal-driven mode / 高级目标驱动模式</p>
<blockquote>
<p>鼠标选中目标对象，再通过键盘按键执行欲执行的行为</p>
</blockquote>
</li>
<li><p>Low-level locomotion mode / 低级运动模式</p>
<blockquote>
<p>键盘控制角色行走/奔跑</p>
</blockquote>
</li>
</ul>
<h1 id="Bi-Directional-Control-Scheme-双向控制方案"><a href="#Bi-Directional-Control-Scheme-双向控制方案" class="headerlink" title="Bi-Directional Control Scheme / 双向控制方案"></a>Bi-Directional Control Scheme / 双向控制方案</h1><blockquote>
<p><code>The idea of the bi-directional controller is to infer the motion from both the egocentric and goal point of view, match both predictions during runtime, and feedback such inference into the Neural State Machine to increase the precision of the character to reach the goal during the tasks</code></p>
<p>双向控制方案可以从角色与目标两个角度同时出发，预测角色的轨迹，运行时将两种预测都反馈给神经状态机，以提高角色轨迹的精度</p>
<p><code>Instead, predicting such information in the goal-space gives more accurate values for where the character would actually need to be, and back-transforming those into root-space during runtime enables avoidance of such error accumulation. </code></p>
<p>双向控制方案可以从目标角度出发，更精确地提供角色的轨迹预测值，并于运行时将信息反向转换至角色根空间，解决了单向控制方案存在的误差累积问题，尤其在数据量不足时，由随机位置运动到目标点，效果显著</p>
<p><code>In more detail, the bi-directional controller is part of the Neural State Machine and computes the future trajectory in the goal-centric coordinate system </code></p>
<p>双向控制时神经状态机的一部分，从目标坐标系出发计算角色未来的根轨迹</p>
</blockquote>
<h1 id="Volumetric-Sensors-体积传感器"><a href="#Volumetric-Sensors-体积传感器" class="headerlink" title="Volumetric Sensors / 体积传感器"></a>Volumetric Sensors / 体积传感器</h1><blockquote>
<p><code>We use two voluemtric sensors to evaluate the status of the body with respect to the object: the Environment Sensor and the Interaction Sensor.</code></p>
<p>使用体积感知器来评估角色与目标物体的空间状态，一个是环境感知器，一个是交互感知器</p>
</blockquote>
<ul>
<li><p>Environment Sensor / 环境感知器</p>
<blockquote>
<p><code>To recognize the surrounding geometry of the character and let it affect the motion in the next frame, we use a volumetric sensor that we call the Environment Sensor that has a cylindrical shape. The collision between objects/environment and a cylindrical volume of radius R and height H is evaluated while the character is moving and fed into the Environment Geometry Input Ei.</code></p>
<p>Environment Sensor 使用一个半径为 R，高度为 H 的圆柱体，在角色运动时评估角色与目标物体的碰撞，并将结果写入Ei，传至神经状态机中，影响角色下一帧的运动</p>
<p><code>Within the volume, spheres of radius r &lt;&lt; R are sampled and their intersections with the objects/environment are tested.</code></p>
<p>圆柱体中将使用半径为 r&lt;&lt;R 的球体对目标物体与圆柱体的交集部分进行采样，这样可以提供连续的输入用于碰撞计算，从而产生更平滑的动作</p>
</blockquote>
</li>
<li><p>Interaction Sensor / 交互感知器</p>
<blockquote>
<p><code>We prepare another volumetric sensor that we call the Interaction Sensor to provide further details of the object geometry from the goal point of view.</code></p>
<p>Interaction Sensor 可以从目标几何体出发，提供目标几何体的具体细节，如椅子的扶手，以便角色作出更精确的动作</p>
<p><code>As the Environment Sensor can be too coarse, and the character can be moving, the fine details of the object, such as the arm rests of the chair, can be missed.</code></p>
<p>Environment Sensor 从角色出发，以圆柱体 + 球体感知周围物体，可能忽略目标物体的细节，而通过 Interaction Sensor 可以弥补该缺陷</p>
</blockquote>
</li>
</ul>
<h1 id="Data-Preparation-数据准备"><a href="#Data-Preparation-数据准备" class="headerlink" title="Data Preparation / 数据准备"></a>Data Preparation / 数据准备</h1><ul>
<li><p>Motion Capture / 动捕数据</p>
</li>
<li><p>Motion  Labelling / 动作标签</p>
<blockquote>
<p>每一帧的数据都会标记一个动作标签，标签含有以下内容</p>
<ol>
<li><p>当前动作标签</p>
</li>
<li><p>目标动作标签</p>
</li>
<li><p>当前的相位标量</p>
</li>
</ol>
<p>相位标量用于确定角色在 周期运动(行走)/非周期运动 中的具体位置信息</p>
</blockquote>
</li>
</ul>
<p><strong>Questions :</strong> </p>
<ul>
<li>相位向量？</li>
<li>预测模块预测处状态，怎么进行的状态过渡？哪一模块负责了值的写入？</li>
<li>训练得出的数据集的作用在于？更好的预测？在哪一模块被使用？</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">YunDid</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2022/03/22/Animation/CenterAI_%E7%A5%9E%E7%BB%8F%E7%8A%B6%E6%80%81%E6%9C%BA/">http://example.com/2022/03/22/Animation/CenterAI_%E7%A5%9E%E7%BB%8F%E7%8A%B6%E6%80%81%E6%9C%BA/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">YunDid's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Animation-Systems/">Animation Systems</a></div><div class="post_share"><div class="social-share" data-image="/img/ma3.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/02/27/Matlab/Matlab/"><img class="prev-cover" src="/img/ma3.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Matlab 入门</div></div></a></div><div class="next-post pull-right"><a href="/2022/03/22/Unreal/Ue4_GamePlay%E6%A1%86%E6%9E%B6%E8%AF%A6%E8%A7%A3/"><img class="next-cover" src="/img/ma3.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">YumiGame - Ue4 - GamePlay</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/03/22/Unreal/Ue4_动画系统未完/" title="Ue4 - Animation System"><img class="cover" src="/img/ma3.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-22</div><div class="title">Ue4 - Animation System</div></div></a></div><div><a href="/2022/03/22/Unity/Unity_动画系统/" title="Unity - Animation Systems"><img class="cover" src="/img/ma3.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-22</div><div class="title">Unity - Animation Systems</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">YunDid</div><div class="author-info__description">欢迎来到 YunDid's Blog！有疑问可以到 “留言板” 提问！^_^</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">46</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">19</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">15</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/YunDid"><i class="fab fa-github"></i><span>博主的GitHub首页</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/YunDid" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:512862613@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">萌新一枚~</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Siggraph-Asia-2019-%E7%94%A8%E4%BA%8E%E8%A7%92%E8%89%B2%E4%B8%8E%E5%9C%BA%E6%99%AF%E4%BA%A4%E4%BA%92%E5%8A%A8%E7%94%BB%E7%9A%84%E7%A5%9E%E7%BB%8F%E7%8A%B6%E6%80%81%E6%9C%BA"><span class="toc-number">1.</span> <span class="toc-text">Siggraph Asia 2019 - 用于角色与场景交互动画的神经状态机</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#The-Current-Progress-%E5%BD%93%E5%89%8D%E8%BF%9B%E5%BA%A6"><span class="toc-number">2.</span> <span class="toc-text">The Current Progress &#x2F; 当前进度</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Outline-%E6%A6%82%E8%A6%81"><span class="toc-number">3.</span> <span class="toc-text">Outline &#x2F; 概要</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Neural-State-Machine-%E7%A5%9E%E7%BB%8F%E7%8A%B6%E6%80%81%E6%9C%BA"><span class="toc-number">4.</span> <span class="toc-text">Neural State Machine &#x2F; 神经状态机</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Gating-Network-%E9%97%A8%E6%8E%A7%E7%BD%91%E7%BB%9C"><span class="toc-number">4.1.</span> <span class="toc-text">Gating Network &#x2F; 门控网络</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Input-%E8%BE%93%E5%85%A5"><span class="toc-number">4.1.1.</span> <span class="toc-text">Input &#x2F; 输入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Output-%E8%BE%93%E5%87%BA"><span class="toc-number">4.1.2.</span> <span class="toc-text">Output &#x2F; 输出</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Motion-Prediction-Network-%E8%BF%90%E5%8A%A8%E9%A2%84%E6%B5%8B%E7%BD%91%E7%BB%9C"><span class="toc-number">4.2.</span> <span class="toc-text">Motion Prediction Network &#x2F; 运动预测网络</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Input-%E8%BE%93%E5%85%A5-1"><span class="toc-number">4.2.1.</span> <span class="toc-text">Input &#x2F; 输入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Output-%E8%BE%93%E5%87%BA-1"><span class="toc-number">4.2.2.</span> <span class="toc-text">Output &#x2F; 输出</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Goal-Driven-Character-Control-%E7%9B%AE%E6%A0%87%E9%A9%B1%E5%8A%A8%E7%9A%84%E8%A7%92%E8%89%B2%E6%8E%A7%E5%88%B6"><span class="toc-number">5.</span> <span class="toc-text">Goal-Driven Character Control &#x2F; 目标驱动的角色控制</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Bi-Directional-Control-Scheme-%E5%8F%8C%E5%90%91%E6%8E%A7%E5%88%B6%E6%96%B9%E6%A1%88"><span class="toc-number">6.</span> <span class="toc-text">Bi-Directional Control Scheme &#x2F; 双向控制方案</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Volumetric-Sensors-%E4%BD%93%E7%A7%AF%E4%BC%A0%E6%84%9F%E5%99%A8"><span class="toc-number">7.</span> <span class="toc-text">Volumetric Sensors &#x2F; 体积传感器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Data-Preparation-%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87"><span class="toc-number">8.</span> <span class="toc-text">Data Preparation &#x2F; 数据准备</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/02/27/Matlab/Matlab/" title="Matlab 入门"><img src="/img/ma3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Matlab 入门"/></a><div class="content"><a class="title" href="/2023/02/27/Matlab/Matlab/" title="Matlab 入门">Matlab 入门</a><time datetime="2023-02-27T01:30:00.000Z" title="发表于 2023-02-27 09:30:00">2023-02-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/22/Animation/CenterAI_%E7%A5%9E%E7%BB%8F%E7%8A%B6%E6%80%81%E6%9C%BA/" title="Siggraph Asia 2019 - 神经状态机"><img src="/img/ma3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Siggraph Asia 2019 - 神经状态机"/></a><div class="content"><a class="title" href="/2022/03/22/Animation/CenterAI_%E7%A5%9E%E7%BB%8F%E7%8A%B6%E6%80%81%E6%9C%BA/" title="Siggraph Asia 2019 - 神经状态机">Siggraph Asia 2019 - 神经状态机</a><time datetime="2022-03-22T02:40:00.000Z" title="发表于 2022-03-22 10:40:00">2022-03-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/22/Unreal/Ue4_GamePlay%E6%A1%86%E6%9E%B6%E8%AF%A6%E8%A7%A3/" title="YumiGame - Ue4 - GamePlay"><img src="/img/ma3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="YumiGame - Ue4 - GamePlay"/></a><div class="content"><a class="title" href="/2022/03/22/Unreal/Ue4_GamePlay%E6%A1%86%E6%9E%B6%E8%AF%A6%E8%A7%A3/" title="YumiGame - Ue4 - GamePlay">YumiGame - Ue4 - GamePlay</a><time datetime="2022-03-22T02:30:00.000Z" title="发表于 2022-03-22 10:30:00">2022-03-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/22/Unreal/Ue4_%E5%8A%A8%E7%94%BB%E7%B3%BB%E7%BB%9F%E6%9C%AA%E5%AE%8C/" title="Ue4 - Animation System"><img src="/img/ma3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Ue4 - Animation System"/></a><div class="content"><a class="title" href="/2022/03/22/Unreal/Ue4_%E5%8A%A8%E7%94%BB%E7%B3%BB%E7%BB%9F%E6%9C%AA%E5%AE%8C/" title="Ue4 - Animation System">Ue4 - Animation System</a><time datetime="2022-03-22T02:28:00.000Z" title="发表于 2022-03-22 10:28:00">2022-03-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/22/Unity/Unity_%E5%8A%A8%E7%94%BB%E7%B3%BB%E7%BB%9F/" title="Unity - Animation Systems"><img src="/img/ma3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Unity - Animation Systems"/></a><div class="content"><a class="title" href="/2022/03/22/Unity/Unity_%E5%8A%A8%E7%94%BB%E7%B3%BB%E7%BB%9F/" title="Unity - Animation Systems">Unity - Animation Systems</a><time datetime="2022-03-22T02:27:00.000Z" title="发表于 2022-03-22 10:27:00">2022-03-22</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By YunDid</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><i class="fab fa-qq"></i> 512862613 | <i class="fab fa-weixin"></i> Mmm-myy1</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">簡</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'RUIbtPgCc0o0TGaeqMWlX9P5-gzGzoHsz',
      appKey: 'PaoiG1dlQjiDQAVRBexH6KkR',
      placeholder: 'Please leave your footprints',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'en',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: false,
      path: window.location.pathname,
      requiredFields: ["nick,mail"],
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="https://cdn.jsdelivr.net/npm/live2d-widget@^3.1.3/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"superSample":2,"position":"left","width":150,"height":300,"hOffset":20,"vOffset":-90},"mobile":{"show":true,"scale":1},"react":{"opacityDefault":0.3,"opacityOnHover":0.3,"opacity":0.95},"log":false});</script></body></html>